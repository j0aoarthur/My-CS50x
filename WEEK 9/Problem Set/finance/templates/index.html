{% extends "layout.html" %}

{% block title %}
    Portifolio
{% endblock %}

{% block main %}
    <div class="container mx-auto">

        <div class="alert alert-primary w-75 mx-auto">
            <h3 class="">Your Portifolio of stocks</h3>
            <p class="h6">Current Cash: {{currentCash}}</p>
        </div>

        {% if stocks %}
            <table class="table table-light mt-5 table-striped text-end">
                <thead>
                    <tr>
                        <th class="text-start">Name</th>
                        <th class="text-start">Company Name</th>
                        <th>Current Unit. price</th>
                        <th>Quantity</th>
                        <th>Win/Loss</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in stocks %}

                    <tr>
                        <td class="text-start"> {{ row['symbol'] }} </td>
                        <td class="text-start"> {{ row['companyName']}}</td>
                        <td> ${{ row['currentPrice'] }} </td>
                        <td> {{ row['quantity_total'] }} </td>
                        <td class=" {% if row['investment'] > 0 %} text-success {% elif 0 > row['investment'] %} text-danger {% endif %}" > ${{row['investment']}} </td>
                    </tr>
                    {% endfor %}
                    <tr>
                        <td colspan="3"></td>
                        <th>Portifolio Price: </th>
                        <td> {{portifolioValue}} </td>
                    </tr>
                </tbody>
            </table>

        {% else %}
            <div class="my-5">
                <h5>You don't have any stocks. Buy one!</h5>
                <a class="btn btn-primary" href="/buy">Buy a stock</a>
            </div>
            
        {% endif %}

        

    </div>
{% endblock %}
